<TaskerData sr="" dvi="1" tv="5.9.rc.3">
	<Profile sr="prof114" ve="2">
		<cdate>1543411337077</cdate>
		<clp>true</clp>
		<edate>1574118972601</edate>
		<id>114</id>
		<mid0>115</mid0>
		<nme>ContextChanged</nme>
		<Event sr="con0" ve="2">
			<code>3050</code>
			<pri>0</pri>
			<Str sr="arg0" ve="3">%Modes_Contexts</Str>
			<Str sr="arg1" ve="3"/>
			<Int sr="arg2" val="0"/>
		</Event>
	</Profile>
	<Profile sr="prof128" ve="2">
		<cdate>1544301750876</cdate>
		<clp>true</clp>
		<edate>1573248164123</edate>
		<id>128</id>
		<limit>true</limit>
		<mid0>129</mid0>
		<nme>MediaOverride-Example</nme>
		<Event sr="con0" ve="2">
			<code>3050</code>
			<pri>0</pri>
			<Str sr="arg0" ve="3">%VOLM</Str>
			<Str sr="arg1" ve="3"/>
			<Int sr="arg2" val="0"/>
		</Event>
	</Profile>
	<Profile sr="prof130" ve="2">
		<cdate>1485323611359</cdate>
		<clp>true</clp>
		<edate>1573248234150</edate>
		<id>130</id>
		<limit>true</limit>
		<mid0>137</mid0>
		<mid1>138</mid1>
		<nme>Headphones-Example</nme>
		<State sr="con0" ve="2">
			<code>30</code>
			<Int sr="arg0" val="0"/>
		</State>
	</Profile>
	<Profile sr="prof144" ve="2">
		<cdate>1544825256683</cdate>
		<clp>true</clp>
		<edate>1566930349221</edate>
		<id>144</id>
		<limit>true</limit>
		<mid0>143</mid0>
		<nme>CheckForModesUpdate</nme>
		<Time sr="con0">
			<fh>12</fh>
			<fm>0</fm>
			<th>12</th>
			<tm>0</tm>
		</Time>
		<Day sr="con1">
			<wday0>2</wday0>
			<wday1>6</wday1>
		</Day>
	</Profile>
	<Profile sr="prof51" ve="2">
		<cdate>1545541948475</cdate>
		<clp>true</clp>
		<edate>1572834494094</edate>
		<id>51</id>
		<mid0>52</mid0>
		<nme>MonitorStart</nme>
		<pri>50</pri>
		<Event sr="con0" ve="2">
			<code>307</code>
			<pri>0</pri>
		</Event>
	</Profile>
	<Profile sr="prof55" ve="2">
		<cdate>1443816148810</cdate>
		<clp>true</clp>
		<edate>1570590264884</edate>
		<id>55</id>
		<limit>true</limit>
		<mid0>56</mid0>
		<mid1>57</mid1>
		<nme>Night-Example</nme>
		<Time sr="con0">
			<fh>23</fh>
			<fm>0</fm>
			<th>7</th>
			<tm>0</tm>
		</Time>
	</Profile>
	<Project sr="proj0" ve="2">
		<cdate>1469483841722</cdate>
		<name>Modes</name>
		<pids>128,144,130,114,51,55</pids>
		<tids>112,83,180,115,138,82,154,113,137,39,175,57,143,56,140,129,18,52,13,9,20,34</tids>
		<Share sr="Share">
			<d>Modes - A contextual settings framework to streamline the process of changing settings based on your current situation.

GitHub page with more details: https://github.com/jhotmann/tasker-phone-modes</d>
			<p>false</p>
			<t>Setup</t>
		</Share>
	</Project>
	<Task sr="task112">
		<cdate>1543115059459</cdate>
		<edate>1572234051318</edate>
		<id>112</id>
		<nme>AddToContext</nme>
		<pri>100</pri>
		<stayawake>true</stayawake>
		<Action sr="act0" ve="7">
			<code>129</code>
			<Str sr="arg0" ve="3">const par1 = local('par1');
const par2 = local('par2');
let context = global('Modes_Contexts').split(',').filter(c =&gt; c.length &gt; 0);

if (par1) {
  switch (par2) {
    case ('if-not-exist'):
    case ('if-not-exists'): {
      if (context.indexOf(par1) === -1) appendToContext(par1);
      break;
    }
    case (par2.match(/^max-count=\d+$/) || {}).input: {
      let maxCount = parseInt(par2.toLowerCase().replace('max-count=', ''));
      if (maxCount) {
        let currentCount = context.filter((c) =&gt; { return c === par1; }).length;
        if (currentCount &lt; maxCount) appendToContext(par1);
      }
      break;
    }
    default: { appendToContext(par1); }
  }
}

function appendToContext(c) {
  context.push(c);
  setGlobal('Modes_Contexts', context.join(','));
}</Str>
			<Str sr="arg1" ve="3"/>
			<Int sr="arg2" val="1"/>
			<Int sr="arg3" val="45"/>
			<ConditionList sr="if">
				<Condition sr="c0" ve="3">
					<lhs>%par1</lhs>
					<op>12</op>
					<rhs></rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Img sr="icn" ve="2">
			<nme>mw_av_playlist_add</nme>
		</Img>
	</Task>
	<Task sr="task113">
		<cdate>1543115059459</cdate>
		<edate>1573062826454</edate>
		<id>113</id>
		<nme>RemoveFromContext</nme>
		<pri>100</pri>
		<stayawake>true</stayawake>
		<Action sr="act0" ve="7">
			<code>129</code>
			<Str sr="arg0" ve="3">const par1 = local('par1');
const par2 = local('par2') || '';
let context = global('Modes_Contexts').split(',').filter(c =&gt; c.length &gt; 0);

let index = context.indexOf(par1);
if (index &gt; -1) {
  if (par2.toLowerCase() === 'all') { // remove all occurances
    while (index &gt; -1) {
      context.splice(index, 1);
      index = context.indexOf(par1);
    }
    setGlobal('Modes_Contexts', context.join(','));
  } else { // remove first occurance
    context.splice(index, 1);
    setGlobal('Modes_Contexts', context.join(','));
  }
}</Str>
			<Str sr="arg1" ve="3"/>
			<Int sr="arg2" val="1"/>
			<Int sr="arg3" val="45"/>
			<ConditionList sr="if">
				<Condition sr="c0" ve="3">
					<lhs>%par1</lhs>
					<op>12</op>
					<rhs></rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Img sr="icn" ve="2">
			<nme>mw_av_playlist_play</nme>
		</Img>
	</Task>
	<Task sr="task115">
		<cdate>1543411345625</cdate>
		<edate>1575826722239</edate>
		<id>115</id>
		<nme>ContextChanged</nme>
		<pri>100</pri>
		<stayawake>true</stayawake>
		<Action sr="act0" ve="7">
			<code>30</code>
			<Int sr="arg0" val="0"/>
			<Int sr="arg1" val="1"/>
			<Int sr="arg2" val="0"/>
			<Int sr="arg3" val="0"/>
			<Int sr="arg4" val="0"/>
		</Action>
		<Action sr="act1" ve="7">
			<code>129</code>
			<Str sr="arg0" ve="3">let version = '1.7.0';
setGlobal('Modes_Version', version);

const ALL_CONFIGS = JSON.parse(global('Modes_Configs'));
const DEFAULT_CONTEXT = global('Modes_DefaultContext');
let contexts = global('Modes_Contexts').split(',').filter(c =&gt; { return (c !== '') });
let previousContexts = global('Modes_ActiveContexts').split(',').filter(c =&gt; { return (c !== '') });

// Filter down to only configs in %Modes_Contexts
let configs = ALL_CONFIGS.filter(c =&gt; { return contexts.indexOf(c.name) &gt; -1 });
let defaultContext = (DEFAULT_CONTEXT &amp;&amp; typeof DEFAULT_CONTEXT === 'string' ? ALL_CONFIGS.find(c =&gt; { return c.name === DEFAULT_CONTEXT }) : null) || { priority: 0 };

// Determine which contexts will be activated based upon type and priority
let activeContexts = [];
let primaryContext = configs.filter(c =&gt; { return c.type === 1; }).sort((a, b) =&gt; { return a.priority - b.priority; }).pop() || defaultContext;
let primaryPriority = primaryContext.priority || 0;
activeContexts.push(primaryContext.name);
let secondaryContexts = configs.filter(c =&gt; { return (c.type === 2 &amp;&amp; c.priority &gt;= primaryPriority); }).sort((a, b) =&gt; { return a.priority - b.priority; });
secondaryContexts.forEach(c =&gt; {
  activeContexts.push(c.name);
});

// Determine which contexts are newly active and inactive
let newContexts = missingItems(activeContexts, previousContexts);
let inactivatedContexts = missingItems(previousContexts, activeContexts);

// Perform exit parameters for inactivated contexts
ALL_CONFIGS
  .filter(c =&gt; { return inactivatedContexts.indexOf(c.name) &gt; -1 })
  .forEach(context =&gt; {
    if (context.exit) {
      if (context.exit.profilesToDisable &amp;&amp; Array.isArray(context.exit.profilesToDisable)) context.exit.profilesToDisable.forEach(prof =&gt; { changeProfileStatus(prof, false); });
      if (context.exit.profilesToEnable &amp;&amp; Array.isArray(context.exit.profilesToEnable)) context.exit.profilesToEnable.forEach(prof =&gt; { changeProfileStatus(prof, true); });
      if (context.exit.tasksToRun &amp;&amp; Array.isArray(context.exit.tasksToRun)) context.exit.tasksToRun.forEach(tsk =&gt; {
        if (typeof tsk === 'string') {
          executeTask(tsk, 10, null, null);
        } else if (typeof tsk === 'object' &amp;&amp; tsk.name) {
          executeTask(tsk.name, tsk.priority, tsk.param1, tsk.param2);
        }
      });
    }
  });

// Merge active context's settings
let merged = {};
if (primaryContext) {
  Object.keys(primaryContext).forEach(key =&gt; {
    if (['name', 'type', 'priority', 'enter', 'exit'].indexOf(key) === -1 &amp;&amp; primaryContext[key] !== null) merged[key] = primaryContext[key];
  });
}
secondaryContexts.forEach(context =&gt; {
  Object.keys(context).forEach(key =&gt; {
    if (['name', 'type', 'priority', 'enter', 'exit'].indexOf(key) === -1 &amp;&amp; context[key] !== null) merged[key] = context[key];
  });
});

// Change settings according to merged context
if (existsIsType(merged, 'volume_notification', 'int')) notificationVol(merged.volume_notification, false, false);
if (existsIsType(merged, 'volume_media', 'int')) mediaVol(merged.volume_media, false, false);
if (existsIsType(merged, 'dnd', 'string')) performTask('DoNotDisturb', 10, merged.dnd, '');
if (existsIsType(merged, 'location', 'string')) performTask('LocationMode', 10, merged.location, '');
if (existsIsType(merged, 'wifiOn', 'boolean')) setWifi(merged.wifiOn);
if (existsIsType(merged, 'bluetoothOn', 'boolean')) setBT(merged.bluetoothOn);
if (existsIsType(merged, 'mobileDataOn', 'boolean')) performTask('MobileData', 10, merged.mobileDataOn, '');
if (existsIsType(merged, 'airplaneModeOn', 'boolean')) setAirplaneMode(merged.airplaneModeOn);
if (existsIsType(merged, 'screenRotationOn', 'boolean')) performTask('DisplayRotate', 10, merged.screenRotationOn, '');
if (existsIsType(merged, 'displayTimeout', 'int')) displayTimeout(0, merged.displayTimeout, 0);
if (existsIsType(merged, 'displayBrightness', 'int') || existsIsType(merged, 'displayBrightness', 'string')) performTask('DisplayBrightness', 10, merged.displayBrightness, '');
if (existsIsType(merged, 'immersiveMode', 'string')) performTask('ImmersiveMode', 10, merged.immersiveMode, '');
if (existsIsType(merged, 'hapticFeedbackOn', 'boolean')) performTask('TouchVibrations', 10, merged.hapticFeedbackOn, '');
if (existsIsType(merged, 'batterySaverOn', 'boolean')) performTask('BatterySaver', 10, merged.batterySaverOn, '');

// Perform enter parameters for new contexts
ALL_CONFIGS
  .filter(context =&gt; { return (newContexts.indexOf(context.name) &gt; -1) })
  .forEach(context =&gt; {
    if (context.enter) {
      if (context.enter.profilesToDisable &amp;&amp; Array.isArray(context.enter.profilesToDisable)) context.enter.profilesToDisable.forEach(prof =&gt; { changeProfileStatus(prof, false); });
      if (context.enter.profilesToEnable &amp;&amp; Array.isArray(context.enter.profilesToEnable)) context.enter.profilesToEnable.forEach(prof =&gt; { changeProfileStatus(prof, true); });
      if (context.enter.tasksToRun &amp;&amp; Array.isArray(context.enter.tasksToRun)) context.enter.tasksToRun.forEach(tsk =&gt; {
        if (typeof tsk === 'string') {
          executeTask(tsk, 10, null, null);
        } else if (typeof tsk === 'object' &amp;&amp; tsk.name) {
          executeTask(tsk.name, tsk.priority, tsk.param1, tsk.param2);
        }
      });
    }
  });

flash((newContexts.length &gt; 0 ? 'New context(s): ' + newContexts.join(', ') : 'Active Context(s): ' + activeContexts.join(', ')));
setGlobal('Modes_ActiveContexts', activeContexts.join(','));

exit();

// Helper functions
function missingItems(arr1, arr2) {
  var missing = arr1.filter(function(item) {
    return arr2.indexOf(item) === -1;
  });
  return missing;
}

function existsIsType(obj, key, type) {
  if (type === 'int') {
    return (Object.keys(obj).indexOf(key) &gt; -1 &amp;&amp; Number.isInteger(obj[key]));
  } else {
    return (Object.keys(obj).indexOf(key) &gt; -1 &amp;&amp; typeof obj[key] === type);
  }
}

function changeProfileStatus(name, on) {
  enableProfile(name, on);
  wait(1000);
}

function executeTask(name, priority, param1, param2) {
  performTask(name, priority, param1, param2);
  wait(500);
}</Str>
			<Str sr="arg1" ve="3"/>
			<Int sr="arg2" val="0"/>
			<Int sr="arg3" val="45"/>
		</Action>
		<Img sr="icn" ve="2">
			<nme>mw_image_photo_filter</nme>
		</Img>
	</Task>
	<Task sr="task129">
		<cdate>1544301755191</cdate>
		<edate>1573248164123</edate>
		<id>129</id>
		<pri>6</pri>
		<Action sr="act0" ve="7">
			<code>30</code>
			<Int sr="arg0" val="750"/>
			<Int sr="arg1" val="0"/>
			<Int sr="arg2" val="0"/>
			<Int sr="arg3" val="0"/>
			<Int sr="arg4" val="0"/>
		</Action>
		<Action sr="act1" ve="7">
			<code>129</code>
			<Str sr="arg0" ve="3">let ALL_CONFIGS = JSON.parse(global('Modes_Configs'));
let index = ALL_CONFIGS.findIndex(c =&gt; { return c.name === 'mediaoverride' });
if (index &gt; -1) {
  ALL_CONFIGS[index].volume_media = parseInt(global('VOLM'));
} else {
  ALL_CONFIGS.push({
    name: "mediaoverride",
    type: 2,
    priority: 81,
    volume_media: parseInt(global('VOLM'))
  });
}
setGlobal('Modes_Configs', JSON.stringify(ALL_CONFIGS));</Str>
			<Str sr="arg1" ve="3"/>
			<Int sr="arg2" val="1"/>
			<Int sr="arg3" val="45"/>
		</Action>
		<Action sr="act2" ve="7">
			<code>130</code>
			<Str sr="arg0" ve="3">AddToContext</Str>
			<Int sr="arg1">
				<var>%priority</var>
			</Int>
			<Str sr="arg2" ve="3">mediaoverride</Str>
			<Str sr="arg3" ve="3">if-not-exist</Str>
			<Str sr="arg4" ve="3"/>
			<Int sr="arg5" val="0"/>
		</Action>
	</Task>
	<Task sr="task13">
		<cdate>1469555817040</cdate>
		<edate>1544736509880</edate>
		<id>13</id>
		<nme>DisplayRotate</nme>
		<Action sr="act0" ve="7">
			<code>596</code>
			<Str sr="arg0" ve="3">%par1</Str>
			<Int sr="arg1" val="28"/>
			<Str sr="arg2" ve="3">%rotate</Str>
			<Int sr="arg3"/>
			<ConditionList sr="if">
				<Condition sr="c0" ve="3">
					<lhs>%par1</lhs>
					<op>12</op>
					<rhs></rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Action sr="act1" ve="7">
			<code>822</code>
			<Int sr="arg0" val="1"/>
			<ConditionList sr="if">
				<bool0>Or</bool0>
				<Condition sr="c0" ve="3">
					<lhs>%rotate</lhs>
					<op>4</op>
					<rhs>true|on</rhs>
				</Condition>
				<Condition sr="c1" ve="3">
					<lhs>%par1</lhs>
					<op>13</op>
					<rhs></rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Action sr="act2" ve="7">
			<code>822</code>
			<Int sr="arg0" val="0"/>
			<ConditionList sr="if">
				<Condition sr="c0" ve="3">
					<lhs>%rotate</lhs>
					<op>4</op>
					<rhs>false|off</rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Img sr="icn" ve="2">
			<nme>mw_device_screen_rotation</nme>
		</Img>
	</Task>
	<Task sr="task137">
		<cdate>1485323616243</cdate>
		<edate>1573248221441</edate>
		<id>137</id>
		<Action sr="act0" ve="7">
			<code>130</code>
			<Str sr="arg0" ve="3">AddToContext</Str>
			<Int sr="arg1">
				<var>%priority</var>
			</Int>
			<Str sr="arg2" ve="3">earbuds</Str>
			<Str sr="arg3" ve="3"/>
			<Str sr="arg4" ve="3"/>
			<Int sr="arg5" val="0"/>
		</Action>
	</Task>
	<Task sr="task138">
		<cdate>1543422275395</cdate>
		<edate>1573248234150</edate>
		<id>138</id>
		<Action sr="act0" ve="7">
			<code>130</code>
			<Str sr="arg0" ve="3">RemoveFromContext</Str>
			<Int sr="arg1">
				<var>%priority</var>
			</Int>
			<Str sr="arg2" ve="3">earbuds</Str>
			<Str sr="arg3" ve="3"/>
			<Str sr="arg4" ve="3"/>
			<Int sr="arg5" val="0"/>
		</Action>
		<Action sr="act1" ve="7">
			<code>130</code>
			<Str sr="arg0" ve="3">RemoveFromContext</Str>
			<Int sr="arg1">
				<var>%priority</var>
			</Int>
			<Str sr="arg2" ve="3">mediaoverride</Str>
			<Str sr="arg3" ve="3">all</Str>
			<Str sr="arg4" ve="3"/>
			<Int sr="arg5" val="0"/>
		</Action>
	</Task>
	<Task sr="task140">
		<cdate>1544453972007</cdate>
		<edate>1575825951167</edate>
		<id>140</id>
		<nme>BatterySaver</nme>
		<pri>100</pri>
		<Action sr="act0" ve="7">
			<code>596</code>
			<Str sr="arg0" ve="3">%par1</Str>
			<Int sr="arg1" val="28"/>
			<Str sr="arg2" ve="3"/>
			<Int sr="arg3"/>
			<ConditionList sr="if">
				<Condition sr="c0" ve="3">
					<lhs>%par1</lhs>
					<op>12</op>
					<rhs></rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Action sr="act1" ve="7">
			<code>175</code>
			<Int sr="arg0" val="0"/>
			<ConditionList sr="if">
				<bool0>Or</bool0>
				<Condition sr="c0" ve="3">
					<lhs>%par1</lhs>
					<op>4</op>
					<rhs>false|off</rhs>
				</Condition>
				<Condition sr="c1" ve="3">
					<lhs>%par1</lhs>
					<op>13</op>
					<rhs></rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Action sr="act2" ve="7">
			<code>175</code>
			<Int sr="arg0" val="1"/>
			<ConditionList sr="if">
				<Condition sr="c0" ve="3">
					<lhs>%par1</lhs>
					<op>4</op>
					<rhs>true|on</rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Img sr="icn" ve="2">
			<nme>mw_device_battery_alert</nme>
		</Img>
	</Task>
	<Task sr="task143">
		<cdate>1544822459344</cdate>
		<edate>1572403451994</edate>
		<id>143</id>
		<nme>CheckForModesUpdate</nme>
		<pri>100</pri>
		<Action sr="act0" ve="7">
			<code>339</code>
			<Bundle sr="arg0">
				<Vals sr="val">
					<net.dinglisch.android.tasker.RELEVANT_VARIABLES>&lt;StringArray sr=""&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES0&gt;%http_data
Data
Data that the server responded from the HTTP request.&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES0&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES1&gt;%http_response_code
Response Code
The HTTP Code the server responded&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES1&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES2&gt;%http_headers()
Response Headers
The HTTP Headers the server sent in the response. Each header is in the 'key:value' format&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES2&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES3&gt;%http_response_length
Response Length
The size of the response in bytes&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES3&gt;&lt;/StringArray&gt;</net.dinglisch.android.tasker.RELEVANT_VARIABLES>
					<net.dinglisch.android.tasker.RELEVANT_VARIABLES-type>[Ljava.lang.String;</net.dinglisch.android.tasker.RELEVANT_VARIABLES-type>
				</Vals>
			</Bundle>
			<Int sr="arg1" val="0"/>
			<Str sr="arg2" ve="3">https://github.com/jhotmann/tasker-phone-modes/releases.atom</Str>
			<Str sr="arg3" ve="3"/>
			<Str sr="arg4" ve="3"/>
			<Str sr="arg5" ve="3"/>
			<Str sr="arg6" ve="3"/>
			<Str sr="arg7" ve="3"/>
			<Int sr="arg8" val="30"/>
			<Int sr="arg9" val="0"/>
		</Action>
		<Action sr="act1" ve="7">
			<code>598</code>
			<Str sr="arg0" ve="3">%http_data</Str>
			<Str sr="arg1" ve="3">(?&lt;=title&gt;)\d+\.\d+\.\d+</Str>
			<Int sr="arg2" val="0"/>
			<Int sr="arg3" val="0"/>
			<Int sr="arg4" val="0"/>
			<Str sr="arg5" ve="3">%versions</Str>
			<Int sr="arg6" val="0"/>
			<Str sr="arg7" ve="3"/>
		</Action>
		<Action sr="act10" ve="7">
			<code>43</code>
			<ConditionList sr="if">
				<bool0>And</bool0>
				<bool1>And</bool1>
				<Condition sr="c0" ve="3">
					<lhs>%versions13</lhs>
					<op>7</op>
					<rhs>%currentversion3</rhs>
				</Condition>
				<Condition sr="c1" ve="3">
					<lhs>%versions12</lhs>
					<op>8</op>
					<rhs>%currentversion2</rhs>
				</Condition>
				<Condition sr="c2" ve="3">
					<lhs>%versions11</lhs>
					<op>8</op>
					<rhs>%currentversion1</rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Action sr="act11" ve="7">
			<code>135</code>
			<Int sr="arg0" val="1"/>
			<Int sr="arg1" val="1"/>
			<Str sr="arg2" ve="3">NotifyUpdate</Str>
		</Action>
		<Action sr="act12" ve="7">
			<code>43</code>
		</Action>
		<Action sr="act13" ve="7">
			<code>137</code>
			<Int sr="arg0" val="0"/>
			<Str sr="arg1" ve="3"/>
		</Action>
		<Action sr="act14" ve="7">
			<code>38</code>
		</Action>
		<Action sr="act15" ve="7">
			<code>523</code>
			<label>NotifyUpdate</label>
			<Str sr="arg0" ve="3">Modes Update Available</Str>
			<Str sr="arg1" ve="3">Select UPDATE to launch Taskernet</Str>
			<Str sr="arg10" ve="3"/>
			<Str sr="arg11" ve="3">modes_updates</Str>
			<Img sr="arg2" ve="2">
				<nme>mw_notification_system_update</nme>
			</Img>
			<Int sr="arg3" val="0"/>
			<Int sr="arg4" val="0"/>
			<Int sr="arg5" val="3"/>
			<Int sr="arg6" val="0"/>
			<Int sr="arg7" val="8"/>
			<Int sr="arg8" val="0"/>
			<Str sr="arg9" ve="3"/>
			<ListElementItem sr="item0">
				<label>Update</label>
				<Action sr="action" ve="7">
					<code>104</code>
					<Str sr="arg0" ve="3">https://taskernet.com/shares/?user=AS35m8k7601Z2ol5UAzuT033Ll5H1yhruZrDvDITEN2l4b5o%2Fm1AF9Dpj3WrfO36Pgh2&amp;id=Project%3AModes</Str>
				</Action>
			</ListElementItem>
		</Action>
		<Action sr="act2" ve="7">
			<code>137</code>
			<Int sr="arg0" val="0"/>
			<Str sr="arg1" ve="3"/>
			<ConditionList sr="if">
				<Condition sr="c0" ve="3">
					<lhs>%versions1</lhs>
					<op>13</op>
					<rhs></rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Action sr="act3" ve="7">
			<code>590</code>
			<Str sr="arg0" ve="3">%versions1</Str>
			<Str sr="arg1" ve="3">.</Str>
			<Int sr="arg2" val="0"/>
		</Action>
		<Action sr="act4" ve="7">
			<code>547</code>
			<Str sr="arg0" ve="3">%currentversion</Str>
			<Str sr="arg1" ve="3">%Modes_Version</Str>
			<Int sr="arg2" val="0"/>
			<Int sr="arg3" val="0"/>
			<Int sr="arg4" val="0"/>
			<Int sr="arg5" val="3"/>
		</Action>
		<Action sr="act5" ve="7">
			<code>590</code>
			<Str sr="arg0" ve="3">%currentversion</Str>
			<Str sr="arg1" ve="3">.</Str>
			<Int sr="arg2" val="0"/>
		</Action>
		<Action sr="act6" ve="7">
			<code>37</code>
			<ConditionList sr="if">
				<Condition sr="c0" ve="3">
					<lhs>%versions11</lhs>
					<op>7</op>
					<rhs>%currentversion1</rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Action sr="act7" ve="7">
			<code>135</code>
			<Int sr="arg0" val="1"/>
			<Int sr="arg1" val="1"/>
			<Str sr="arg2" ve="3">NotifyUpdate</Str>
		</Action>
		<Action sr="act8" ve="7">
			<code>43</code>
			<ConditionList sr="if">
				<bool0>And</bool0>
				<Condition sr="c0" ve="3">
					<lhs>%versions12</lhs>
					<op>7</op>
					<rhs>%currentversion2</rhs>
				</Condition>
				<Condition sr="c1" ve="3">
					<lhs>%versions11</lhs>
					<op>8</op>
					<rhs>%currentversion1</rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Action sr="act9" ve="7">
			<code>135</code>
			<Int sr="arg0" val="1"/>
			<Int sr="arg1" val="1"/>
			<Str sr="arg2" ve="3">NotifyUpdate</Str>
		</Action>
		<Img sr="icn" ve="2">
			<nme>mw_notification_system_update</nme>
		</Img>
	</Task>
	<Task sr="task154">
		<cdate>1572830036452</cdate>
		<edate>1573312447522</edate>
		<id>154</id>
		<nme>ReadConfigFiles</nme>
		<pri>100</pri>
		<rty>1</rty>
		<Action sr="act0" ve="7">
			<code>129</code>
			<Str sr="arg0" ve="3">const CONFIG_PATH = global('Modes_ConfigPath');
let configs = [];

let fileList = listFiles(CONFIG_PATH).split('\n').filter(f =&gt; { return (f !== '') });
fileList.forEach(f =&gt; {
  let conf = readConfigFile(f);
  configs.push(conf);
});
setGlobal('Modes_Configs', JSON.stringify(configs));

function readConfigFile(configName) {
  let configText = '{}';
  try {
    configText = readFile(configName);
  } catch (error) {
    flash('Error reading configuration file ' + configName);
  }
  let conf = JSON.parse(configText);
  if (!conf.name) conf.name = configName.replace(/^.*\/|\.[A-Za-z]+$/g, '');
  if (!conf.type) conf.type = 1;
  if (!conf.priority) conf.priority = 50;
  // Translate old configuration format
  if (Object.keys(conf).indexOf('volume') &gt; -1) {
    if (conf.volume.media !== null) conf.volume_media = conf.volume.media;
    if (conf.volume.notification !== null) conf.volume_notification = conf.volume.notification;
    if (conf.volume.dnd !== null) conf.dnd = conf.volume.dnd;
    delete conf.volume;
  }
  return conf;
}</Str>
			<Str sr="arg1" ve="3"/>
			<Int sr="arg2" val="1"/>
			<Int sr="arg3" val="45"/>
		</Action>
		<Img sr="icn" ve="2">
			<nme>mw_editor_format_line_spacing</nme>
		</Img>
	</Task>
	<Task sr="task175">
		<cdate>1572209034876</cdate>
		<edate>1572235555571</edate>
		<id>175</id>
		<nme>EditContext</nme>
		<pri>100</pri>
		<rty>1</rty>
		<Action sr="act0" ve="7">
			<code>360</code>
			<Bundle sr="arg0">
				<Vals sr="val">
					<net.dinglisch.android.tasker.RELEVANT_VARIABLES>&lt;StringArray sr=""&gt;&lt;_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES0&gt;%input
Input
The text that was inserted in the dialog&lt;/_array_net.dinglisch.android.tasker.RELEVANT_VARIABLES0&gt;&lt;/StringArray&gt;</net.dinglisch.android.tasker.RELEVANT_VARIABLES>
					<net.dinglisch.android.tasker.RELEVANT_VARIABLES-type>[Ljava.lang.String;</net.dinglisch.android.tasker.RELEVANT_VARIABLES-type>
				</Vals>
			</Bundle>
			<Str sr="arg1" ve="3">Edit Context</Str>
			<Str sr="arg2" ve="3">A comma-separtated lists of contexts</Str>
			<Str sr="arg3" ve="3">%Modes_Contexts</Str>
			<Int sr="arg4" val="30"/>
			<Str sr="arg5" ve="3">524289</Str>
			<Int sr="arg6" val="0"/>
			<Int sr="arg7" val="0"/>
		</Action>
		<Action sr="act1" ve="7">
			<code>547</code>
			<Str sr="arg0" ve="3">%Modes_Contexts</Str>
			<Str sr="arg1" ve="3">%input</Str>
			<Int sr="arg2" val="0"/>
			<Int sr="arg3" val="0"/>
			<Int sr="arg4" val="0"/>
			<Int sr="arg5" val="3"/>
		</Action>
		<Img sr="icn" ve="2">
			<nme>mw_editor_border_color</nme>
		</Img>
	</Task>
	<Task sr="task18">
		<cdate>1543968812849</cdate>
		<edate>1573248763873</edate>
		<id>18</id>
		<nme>ConfigCreator</nme>
		<pri>100</pri>
		<stayawake>true</stayawake>
		<Action sr="act0" ve="7">
			<code>104</code>
			<Str sr="arg0" ve="3">https://rawgit.com/jhotmann/tasker-phone-modes/master/ConfigCreator/ConfigCreator.html</Str>
		</Action>
		<Img sr="icn" ve="2">
			<nme>mw_action_note_add</nme>
		</Img>
	</Task>
	<Task sr="task180">
		<cdate>1469465053041</cdate>
		<edate>1575825633571</edate>
		<id>180</id>
		<nme>ImmersiveMode</nme>
		<Action sr="act0" ve="7">
			<code>596</code>
			<Str sr="arg0" ve="3">%par1</Str>
			<Int sr="arg1" val="28"/>
			<Str sr="arg2" ve="3">%mode</Str>
			<Int sr="arg3"/>
			<ConditionList sr="if">
				<Condition sr="c0" ve="3">
					<lhs>%par1</lhs>
					<op>12</op>
					<rhs></rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Action sr="act1" ve="7">
			<code>906</code>
			<Int sr="arg0" val="0"/>
			<ConditionList sr="if">
				<bool0>Or</bool0>
				<Condition sr="c0" ve="3">
					<lhs>%par1</lhs>
					<op>2</op>
					<rhs>off</rhs>
				</Condition>
				<Condition sr="c1" ve="3">
					<lhs>%par1</lhs>
					<op>13</op>
					<rhs></rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Action sr="act2" ve="7">
			<code>906</code>
			<Int sr="arg0" val="1"/>
			<ConditionList sr="if">
				<Condition sr="c0" ve="3">
					<lhs>%par1</lhs>
					<op>2</op>
					<rhs>status</rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Action sr="act3" ve="7">
			<code>906</code>
			<Int sr="arg0" val="2"/>
			<ConditionList sr="if">
				<Condition sr="c0" ve="3">
					<lhs>%par1</lhs>
					<op>2</op>
					<rhs>navigation</rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Action sr="act4" ve="7">
			<code>906</code>
			<Int sr="arg0" val="3"/>
			<ConditionList sr="if">
				<Condition sr="c0" ve="3">
					<lhs>%par1</lhs>
					<op>4</op>
					<rhs>both|full</rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Img sr="icn" ve="2">
			<nme>mw_navigation_fullscreen</nme>
		</Img>
	</Task>
	<Task sr="task20">
		<cdate>1471285453782</cdate>
		<edate>1573251559451</edate>
		<id>20</id>
		<nme>Setup</nme>
		<pri>100</pri>
		<Action sr="act0" ve="7">
			<code>129</code>
			<Str sr="arg0" ve="3">var configPath = global('Modes_ConfigPath');
var path = prompt('What folder will contain your config files? (No trailing slash)', (configPath ? configPath : '/sdcard/Tasker/ModeConfigs'));
if (path != null) {
  setGlobal('Modes_ConfigPath', path);
}</Str>
			<Str sr="arg1" ve="3"/>
			<Int sr="arg2" val="1"/>
			<Int sr="arg3" val="45"/>
		</Action>
		<Action sr="act1" ve="7">
			<code>409</code>
			<se>false</se>
			<Str sr="arg0" ve="3">%Modes_ConfigPath</Str>
			<Int sr="arg1" val="1"/>
			<Int sr="arg2" val="0"/>
		</Action>
		<Action sr="act2" ve="7">
			<code>129</code>
			<Str sr="arg0" ve="3">performTask('ReadConfigFiles', 99, null, null);

var defaultContext = global('Modes_DefaultContext');
var dc = prompt('What would you like to be the default primary context?', (defaultContext ? defaultContext : ''));
if (dc != null) {
  setGlobal('Modes_DefaultContext', dc);
}

var cfu = confirm('Would you like to periodically check for project updates?');
enableProfile('CheckForModesUpdate', cfu);

enableProfile('ContextChanged', true);
enableProfile('MonitorStart', true);</Str>
			<Str sr="arg1" ve="3"/>
			<Int sr="arg2" val="1"/>
			<Int sr="arg3" val="45"/>
		</Action>
		<Img sr="icn" ve="2">
			<nme>mw_communication_phonelink_setup</nme>
		</Img>
	</Task>
	<Task sr="task34">
		<cdate>1452598211627</cdate>
		<edate>1570590204118</edate>
		<id>34</id>
		<nme>TouchVibrations</nme>
		<pri>100</pri>
		<Action sr="act0" ve="7">
			<code>596</code>
			<Str sr="arg0" ve="3">%par1</Str>
			<Int sr="arg1" val="28"/>
			<Str sr="arg2" ve="3"/>
			<Int sr="arg3"/>
			<ConditionList sr="if">
				<Condition sr="c0" ve="3">
					<lhs>%par1</lhs>
					<op>12</op>
					<rhs></rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Action sr="act1" ve="7">
			<code>235</code>
			<Int sr="arg0" val="2"/>
			<Str sr="arg1" ve="3">haptic_feedback_enabled</Str>
			<Str sr="arg2" ve="3">1</Str>
			<Int sr="arg3" val="0"/>
			<Str sr="arg4" ve="3"/>
			<ConditionList sr="if">
				<bool0>Or</bool0>
				<Condition sr="c0" ve="3">
					<lhs>%par1</lhs>
					<op>4</op>
					<rhs>true|on</rhs>
				</Condition>
				<Condition sr="c1" ve="3">
					<lhs>%par1</lhs>
					<op>13</op>
					<rhs></rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Action sr="act2" ve="7">
			<code>235</code>
			<Int sr="arg0" val="2"/>
			<Str sr="arg1" ve="3">haptic_feedback_enabled</Str>
			<Str sr="arg2" ve="3">0</Str>
			<Int sr="arg3" val="0"/>
			<Str sr="arg4" ve="3"/>
			<ConditionList sr="if">
				<Condition sr="c0" ve="3">
					<lhs>%par1</lhs>
					<op>4</op>
					<rhs>false|off</rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Img sr="icn" ve="2">
			<nme>mw_action_touch_app</nme>
		</Img>
	</Task>
	<Task sr="task39">
		<cdate>1469465053041</cdate>
		<edate>1575825941972</edate>
		<id>39</id>
		<nme>LocationMode</nme>
		<pri>100</pri>
		<Action sr="act0" ve="7">
			<code>596</code>
			<Str sr="arg0" ve="3">%par1</Str>
			<Int sr="arg1" val="28"/>
			<Str sr="arg2" ve="3">%mode</Str>
			<Int sr="arg3"/>
			<ConditionList sr="if">
				<Condition sr="c0" ve="3">
					<lhs>%par1</lhs>
					<op>12</op>
					<rhs></rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Action sr="act1" ve="7">
			<code>905</code>
			<Int sr="arg0" val="3"/>
			<ConditionList sr="if">
				<bool0>Or</bool0>
				<Condition sr="c0" ve="3">
					<lhs>%par1</lhs>
					<op>13</op>
					<rhs></rhs>
				</Condition>
				<Condition sr="c1" ve="3">
					<lhs>%par1</lhs>
					<op>2</op>
					<rhs>accuracy</rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Action sr="act2" ve="7">
			<code>905</code>
			<Int sr="arg0" val="0"/>
			<ConditionList sr="if">
				<Condition sr="c0" ve="3">
					<lhs>%par1</lhs>
					<op>2</op>
					<rhs>off</rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Action sr="act3" ve="7">
			<code>905</code>
			<Int sr="arg0" val="2"/>
			<ConditionList sr="if">
				<Condition sr="c0" ve="3">
					<lhs>%par1</lhs>
					<op>2</op>
					<rhs>battery</rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Action sr="act4" ve="7">
			<code>905</code>
			<Int sr="arg0" val="1"/>
			<ConditionList sr="if">
				<Condition sr="c0" ve="3">
					<lhs>%par1</lhs>
					<op>2</op>
					<rhs>device</rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Img sr="icn" ve="2">
			<nme>mw_maps_my_location</nme>
		</Img>
	</Task>
	<Task sr="task52">
		<cdate>1545541953966</cdate>
		<edate>1572834494094</edate>
		<id>52</id>
		<pri>100</pri>
		<Action sr="act0" ve="7">
			<code>130</code>
			<Str sr="arg0" ve="3">ReadConfigFiles</Str>
			<Int sr="arg1">
				<var>%priority+1</var>
			</Int>
			<Str sr="arg2" ve="3"/>
			<Str sr="arg3" ve="3"/>
			<Str sr="arg4" ve="3"/>
			<Int sr="arg5" val="0"/>
		</Action>
		<Action sr="act1" ve="7">
			<code>549</code>
			<Str sr="arg0" ve="3">%Modes_Contexts</Str>
			<Int sr="arg1" val="0"/>
			<Int sr="arg2" val="0"/>
			<Int sr="arg3" val="0"/>
		</Action>
	</Task>
	<Task sr="task56">
		<cdate>1443816152178</cdate>
		<edate>1570590264884</edate>
		<id>56</id>
		<pri>100</pri>
		<Action sr="act0" ve="7">
			<code>130</code>
			<Str sr="arg0" ve="3">AddToContext</Str>
			<Int sr="arg1">
				<var>%priority</var>
			</Int>
			<Str sr="arg2" ve="3">night</Str>
			<Str sr="arg3" ve="3"/>
			<Str sr="arg4" ve="3"/>
			<Int sr="arg5" val="0"/>
			<ConditionList sr="if">
				<Condition sr="c0" ve="3">
					<lhs>%Modes_Contexts</lhs>
					<op>5</op>
					<rhs>(^|,)night($|,)</rhs>
				</Condition>
			</ConditionList>
		</Action>
	</Task>
	<Task sr="task57">
		<cdate>1543421571650</cdate>
		<edate>1544048411472</edate>
		<id>57</id>
		<pri>100</pri>
		<Action sr="act0" ve="7">
			<code>130</code>
			<Str sr="arg0" ve="3">RemoveFromContext</Str>
			<Int sr="arg1">
				<var>%priority</var>
			</Int>
			<Str sr="arg2" ve="3">night</Str>
			<Str sr="arg3" ve="3"/>
			<Str sr="arg4" ve="3"/>
			<Int sr="arg5" val="0"/>
		</Action>
	</Task>
	<Task sr="task82">
		<cdate>1544039715157</cdate>
		<edate>1570590209259</edate>
		<id>82</id>
		<nme>DisplayBrightness</nme>
		<pri>100</pri>
		<Action sr="act0" ve="7">
			<code>596</code>
			<Str sr="arg0" ve="3">%par1</Str>
			<Int sr="arg1" val="28"/>
			<Str sr="arg2" ve="3"/>
			<Int sr="arg3"/>
			<ConditionList sr="if">
				<Condition sr="c0" ve="3">
					<lhs>%par1</lhs>
					<op>12</op>
					<rhs></rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Action sr="act1" ve="7">
			<code>808</code>
			<Int sr="arg0" val="1"/>
			<ConditionList sr="if">
				<bool0>Or</bool0>
				<Condition sr="c0" ve="3">
					<lhs>%par1</lhs>
					<op>2</op>
					<rhs>auto</rhs>
				</Condition>
				<Condition sr="c1" ve="3">
					<lhs>%par1</lhs>
					<op>13</op>
					<rhs></rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Action sr="act2" ve="7">
			<code>808</code>
			<Int sr="arg0" val="0"/>
			<ConditionList sr="if">
				<Condition sr="c0" ve="3">
					<lhs>%par1</lhs>
					<op>4</op>
					<rhs>^\d+$</rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Action sr="act3" ve="7">
			<code>810</code>
			<Int sr="arg0">
				<var>%par1</var>
			</Int>
			<Int sr="arg1" val="1"/>
			<Int sr="arg2" val="0"/>
			<Int sr="arg3" val="0"/>
			<ConditionList sr="if">
				<Condition sr="c0" ve="3">
					<lhs>%par1</lhs>
					<op>4</op>
					<rhs>^\d+$</rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Img sr="icn" ve="2">
			<nme>mw_image_brightness_6</nme>
		</Img>
	</Task>
	<Task sr="task83">
		<cdate>1544453972007</cdate>
		<edate>1575823851472</edate>
		<id>83</id>
		<nme>MobileData</nme>
		<pri>100</pri>
		<Action sr="act0" ve="7">
			<code>596</code>
			<Str sr="arg0" ve="3">%par1</Str>
			<Int sr="arg1" val="28"/>
			<Str sr="arg2" ve="3"/>
			<Int sr="arg3"/>
			<ConditionList sr="if">
				<Condition sr="c0" ve="3">
					<lhs>%par1</lhs>
					<op>12</op>
					<rhs></rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Action sr="act1" ve="7">
			<code>433</code>
			<Int sr="arg0" val="0"/>
			<ConditionList sr="if">
				<bool0>Or</bool0>
				<Condition sr="c0" ve="3">
					<lhs>%par1</lhs>
					<op>2</op>
					<rhs>false</rhs>
				</Condition>
				<Condition sr="c1" ve="3">
					<lhs>%par1</lhs>
					<op>2</op>
					<rhs>off</rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Action sr="act2" ve="7">
			<code>433</code>
			<Int sr="arg0" val="1"/>
			<ConditionList sr="if">
				<bool0>Or</bool0>
				<Condition sr="c0" ve="3">
					<lhs>%par1</lhs>
					<op>2</op>
					<rhs>true</rhs>
				</Condition>
				<Condition sr="c1" ve="3">
					<lhs>%par1</lhs>
					<op>2</op>
					<rhs>on</rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Img sr="icn" ve="2">
			<nme>mw_device_signal_cellular_3_bar</nme>
		</Img>
	</Task>
	<Task sr="task9">
		<cdate>1469465053041</cdate>
		<edate>1570590245827</edate>
		<id>9</id>
		<nme>DoNotDisturb</nme>
		<Action sr="act0" ve="7">
			<code>596</code>
			<Str sr="arg0" ve="3">%par1</Str>
			<Int sr="arg1" val="28"/>
			<Str sr="arg2" ve="3">%mode</Str>
			<Int sr="arg3"/>
			<ConditionList sr="if">
				<Condition sr="c0" ve="3">
					<lhs>%par1</lhs>
					<op>12</op>
					<rhs></rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Action sr="act1" ve="7">
			<code>312</code>
			<Int sr="arg0" val="2"/>
			<ConditionList sr="if">
				<bool0>Or</bool0>
				<Condition sr="c0" ve="3">
					<lhs>%mode</lhs>
					<op>2</op>
					<rhs>all</rhs>
				</Condition>
				<Condition sr="c1" ve="3">
					<lhs>%par1</lhs>
					<op>13</op>
					<rhs></rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Action sr="act2" ve="7">
			<code>312</code>
			<Int sr="arg0" val="1"/>
			<ConditionList sr="if">
				<Condition sr="c0" ve="3">
					<lhs>%mode</lhs>
					<op>2</op>
					<rhs>priority</rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Action sr="act3" ve="7">
			<code>312</code>
			<Int sr="arg0" val="3"/>
			<ConditionList sr="if">
				<Condition sr="c0" ve="3">
					<lhs>%mode</lhs>
					<op>2</op>
					<rhs>alarms</rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Action sr="act4" ve="7">
			<code>312</code>
			<Int sr="arg0" val="0"/>
			<ConditionList sr="if">
				<Condition sr="c0" ve="3">
					<lhs>%mode</lhs>
					<op>2</op>
					<rhs>none</rhs>
				</Condition>
			</ConditionList>
		</Action>
		<Img sr="icn" ve="2">
			<nme>mw_notification_do_not_disturb_off</nme>
		</Img>
	</Task>
</TaskerData>
